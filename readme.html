<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>About BPM, Camunda, Kogito at a gallopp</title>
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="stylesheet" href="./dist/reset.css" />
    <link rel="stylesheet" href="./dist/reveal.css" />
    <link rel="stylesheet" href="./dist/theme/black.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/base16/zenburn.css" />


  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section ><section data-markdown><script type="text/template">

<style>
img {
	max-height: 300px !important;
}
</style>

# About BPM, Camunda, Kogito at a gallopp

Timm Heuss

October 2022

<https://github.com/heussd/bpm-camunda-kogito-at-a-gallop>

</script></section><section data-markdown><script type="text/template">

<!-- .slide: data-background="https://unsplash.com/photos/kn-UmDZQDjM/download?ixid=MnwxMjA3fDB8MXxzZWFyY2h8M3x8bGVnb3xlbnwwfHx8fDE2NjQ5MTQ4NTI&force=true" data-state="intro"-->
</script></section></section><section  data-markdown><script type="text/template">

## Agenda

- BPM and its ecosystem
- Model our own process featuring
	- human tasks
	- service invokes
- Implement and deploy it
	- ... in Camunda 7
	- ... in Kogito
- Reflect about our impressions

</script></section><section ><section data-markdown><script type="text/template">

## BPM and it's ecosystem

</script></section><section data-markdown><script type="text/template">

### How BPMN looks like

</script></section><section data-markdown><script type="text/template">

#### Creditworthiness Check

![BPMN example - Creditworthiness Check. Taken from https://camunda.com/bpmn/examples/](bpmn-example-creditworthiness-check.png)


</script></section><section data-markdown><script type="text/template">

#### Four Eyes Principle

![BPMN example - Four Eyes Principle. Taken from https://camunda.com/bpmn/examples/](bpmn-example-four-eyes-principle.png)

</script></section><section data-markdown><script type="text/template">

### Terminology

- **Business Process Management (BPM)**
- **Business Process Model and Notation (BPMN)** - a graphical specification language, used to model a process
- **Decision Model and Notation (DMN)** - used to model decisions
- **BPM suite** - Engine to execute BPM

</script></section><section data-markdown><script type="text/template">

### Why BPM?

1. Economical: You might draw it (in PowerPoint) anyway, why not in a executable standard notation? <!-- .element: class="fragment" data-fragment-index="1" -->
1. Subject Matter: Business people can model the process, they know it best - right?! <!-- .element: class="fragment" data-fragment-index="2" -->
1. Technological: Software that handles: <!-- .element: class="fragment" data-fragment-index="3" -->
   - states and versions of processes
   - human / machine interaction

</script></section><section data-markdown><script type="text/template">

### _Completely unbiased_ comparison of BPM suites

|                  Yes Code                  |          No Code          |
| :----------------------------------------: | :-----------------------: |
| Camunda, Kogito, jBPM, lib-bpmn-engine ... | ServiceNow, Signavio, ... |
|              Developer tools               |     Closed ecosystems     |
|   Embrace standard programming languages   |             ?             |
|             _Your best friend_             | _Death by Property panel_ |

</script></section></section><section ><section data-markdown><script type="text/template">

## Camunda

</script></section><section data-markdown><script type="text/template">

### [hello-camunda-world](https://github.com/heussd/bpm-camunda-kogito-at-a-gallop/tree/main/hello-camunda-world)

    ├── build.gradle
    ├── gradle.properties
    ├── settings.gradle
    └── src
       └── main
          ├── java
          │  └── com
          │     └── example
          │        └── hello
          │           ├── HealthController.kt
          │           ├── IdeaReceiver.kt
          │           └── SpringBootApp.java
          └── resources
             ├── application.yaml
             ├── idea-approval-process.bpmn
             ├── META-INF
             │  └── processes.xml
             └── public
                └── index.html

Hands on 🙌

</script></section><section data-markdown><script type="text/template">

### Example scenario: Idea approval process

- Step 1: Propose idea.
- Step 2: Approve or reject idea.
- Step 3: Send idea to service, if it is approved.

</script></section><section data-markdown><script type="text/template">

### Highlights

- Shared, Container Managed Process Engine - SpringBoot starter
- Modelling:
  - Camunda Modeller desktop app to model
  - Cawemo online tool + social features
- User interface: Camunda Task List
- Admin interface: Camunda Cockpit
- Payed features:
  - Graphical process instance migration
  - Analytics such as Heatmaps on Process

</script></section></section><section ><section data-markdown><script type="text/template">

## Red Hat Kogito

![Kogito](kogito_icon.svg)

</script></section><section data-markdown><script type="text/template">

### [hello-kogito-world](https://github.com/heussd/bpm-camunda-kogito-at-a-gallop/tree/main/hello-kogito-world)

    ├── Dockerfile
    ├── pom.xml
    └── src
       └── main
          ├── java
          │  └── org
          │     └── kie
          │        └── kogito
          │           └── examples
          │              ├── Idea.kt
          │              └── IdeaReceiver.kt
          └── resources
             ├── application.properties
             ├── META-INF
             │  ├── kmodule.xml
             │  └── processSVG
             │     └── idea-approval.svg
             └── org
                └── kie
                   └── kogito
                      └── examples
                         └── idea-approval.bpmn2

Hands on 🫶

</script></section><section data-markdown><script type="text/template">

### Highlights

- Hyper-scalable Cloud-native microservice architecture
- Focus on Domain language and auto generation.
- Modelling: VSCode plug-in to model processes.
- User interface: None (Task console as dedicated service available)
- Admin interface: None (Administration console as dedicated service available)

</script></section><section data-markdown><script type="text/template">

Kogito is part of

Red Hat's [KIE (Knowledge Is Everything)](https://www.kie.org/)

![](optaplanner_icon.svg)
![](kogito_icon.svg)
![](drools_icon.svg)

</script></section></section><section ><section data-markdown><script type="text/template">

## Impressions

</script></section><section data-markdown><script type="text/template">

### "The business can model processes"

Yes they can! But keep in mind that:

- Business might not be experienced in doing so.
- It requires a different way of thinking that might not be natural for the Business.
- Modeling a _good_ process is still challenging.

</script></section><section data-markdown><script type="text/template">

What about _executable_ processes?

</script></section><section data-markdown><script type="text/template">

### Business cannot model _executable_ processes

- Additional attributes needed in Property panels:
  - what class to call
  - what data model to use
- Maintaining these requires developer insights

</script></section><section data-markdown><script type="text/template">

|           | BPMN | Property panels |
| :-------: | :--: | :-------------: |
| Business  |  ✅  |       🛑        |
| Developer |  ✅  |       ✅        |

</script></section><section data-markdown><script type="text/template">

### Good practice: How to develop a process

1. Business creates draft process.
1. Developer review, clarify, correct, goto 1. until concept is clear.
1. Developer add technical attributes.
1. Process becomes part of the codebase.
1. Process becomes new baseline for future iterations with business. <!-- .element: class="fragment" data-fragment-index="1" -->

</script></section><section data-markdown><script type="text/template">

### Property panels

Potential "Lock-in" effect through BPM-suite-specific attributes.

|             Camunda             |             Kogito             |
| :-----------------------------: | :----------------------------: |
| ![](property-panel-camunda.png) | ![](property-panel-kogito.png) |
|        Camunda Modeller         |         VSCode plugin          |

</script></section><section data-markdown><script type="text/template">

### Good practice: How to integrate BPM suites in your application

Work with REST:

1. General management endpoints by the BPM suite.
1. Subject matter-specific endpoints
   - Camunda: do it yourself
   - Kogito: generated automatically

</script></section><section data-markdown><script type="text/template">

### UI integration: input / output forms

Management endpoints!

Also: Custom field types for Camunda

</script></section><section data-markdown><script type="text/template">

#### Kogito `/management` endpoint

```text
/management/processes/

DELETE /management/processes/{processId}/instances/{processInstanceId}
GET /management/processes/{processId}/instances/{processInstanceId}/error
GET /management/processes/{processId}/instances/{processInstanceId}/nodeInstances
DELETE /management/processes/{processId}/instances/{processInstanceId}/nodeInstances/{nodeInstanceId}
POST /management/processes/{processId}/instances/{processInstanceId}/nodeInstances/{nodeInstanceId}
POST /management/processes/{processId}/instances/{processInstanceId}/nodes/{nodeId}
POST /management/processes/{processId}/instances/{processInstanceId}/retrigger
POST /management/processes/{processId}/instances/{processInstanceId}/skip
GET /management/processes/{processId}/nodes
```

</script></section><section data-markdown><script type="text/template">

### UI integration: Modeling

- [bpmn.io](https://bpmn.io/)
  - bpmn-js, dmn-js, form-js (Open Source)
  - [Camunda Modeller](https://github.com/camunda/camunda-modeler) (Open Source)
- Kogito
  - [KIE tools](https://github.com/kiegroup/kie-tools), VSCode Plugin (Open Source)
  - kogito-addons-quarkus-process-svg

</script></section><section data-markdown><script type="text/template">

### Good practice: Process Engine as Single point of truth

UX designers might not like this.

</script></section><section data-markdown><script type="text/template">

### When is a process validated?

|            |        Camunda        |   Kogito   |
| ---------- | :-------------------: | :--------: |
| Model      |      Deployment       | Deployment |
| References | Element instantiation | Deployment |

In Camunda you have to test the entire process to ensure that all referenced classes or data types exist.

</script></section><section data-markdown><script type="text/template">

### Breaking changes in Camunda 8

- User tasks are no longer free for commercial users.
- Only basic primary data types or JSON supported.
- Cawemo replaced with Camunda Platform service.
- Less choices for deployment.

<https://docs.camunda.io/docs/guides/migrating-from-camunda-platform-7/>

</script></section><section data-markdown><script type="text/template">

### Deployment

|                                          | Camunda 7 | Camunda 8 | Kogito |
| ---------------------------------------- | :-------: | :-------: | :----: |
| Remote Process Engine                    |    ✅     |    ✅     |
| Shared, Container Managed Process Engine |    ✅     |    ❌     |   ✅   |
| Embedded Process Engine                  |    ✅     |    ❌     |        |

</script></section><section data-markdown><script type="text/template">

### Kogito's Cloud-native Complexity

- Spinning up a Camunda-equivalent service means starting **8 containers**:
  - Infinispan, Apache Zookeeper, Apache Kafka, Keycloak, Kogito Data Index service, Management console, Task console
  - Plus finally your process deployable
- Public code examples are not working out of the box.

</script></section></section><section ><section data-markdown><script type="text/template">

## Final thoughts

(personal opinion)

- You have a chain of activities? States? Human-Machine-Interaction? You might need BPM.
- BPMN is a great means for communication.
- We are right in the middle of a transition from
	- *application server* BPM suites towards ...
	- *Cloud-native* BPM suites.
- Yes-Code-approaches rock, yet the amount of code you don't have to write is just amazing.
- Camunda ❤️, Kogito ❤️

</script></section><section data-markdown><script type="text/template">

Stop drawing boxes in PowerPoint.

Start modelling BPMN.
</script></section></section></div>
    </div>

    <script src="./dist/reveal.js"></script>

    <script src="./plugin/markdown/markdown.js"></script>
    <script src="./plugin/highlight/highlight.js"></script>
    <script src="./plugin/zoom/zoom.js"></script>
    <script src="./plugin/notes/notes.js"></script>
    <script src="./plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        controls: true,
        slideNumber: true,
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"transition":"fade"}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
